var e=Object.defineProperty,r=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,l=(r,a,s)=>a in r?e(r,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[a]=s;import{K as t,V as n,u as p,r as i,t as m,h as u,i as w,L as c,M as f,E as _,N as b,O as g,F as h,w as j,o as y,d as v,e as O}from"./vendor.08fb1a9b.js";/* empty css                *//* empty css                     *//* empty css                 */import{a as F}from"./index.5732baed.js";const V={name:"change_password",setup(){const e=t(null);n(),p();const c=i({token:"Bearer "+F("token")||"",adminForms:{old_password:"",new_password:""},rules:{old_password:[{required:"true",message:"原密码必须",trigger:["change"]}],new_password:[{required:"true",message:"新密码必须",trigger:["change"]}]}});return f=((e,r)=>{for(var a in r||(r={}))o.call(r,a)&&l(e,a,r[a]);if(s)for(var a of s(r))d.call(r,a)&&l(e,a,r[a]);return e})({},m(c)),r(f,a({adminRefs:e,submitAdd:()=>{e.value.validate((e=>{if(e){let e=u.put,r={old_password:c.adminForms.old_password,new_password:c.adminForms.new_password};if(r.old_password.length>10)return void w.error("密码不能超过10个字符");if(r.new_password.length>30)return void w.error("密码不能超过30个字符");e("/api/back/admins/changepwd",r).then((()=>{w.success("修改成功")}))}}))}}));var f}},P=O("立即修改");V.render=function(e,r,a,s,o,d){const l=c,t=f,n=_,p=b,i=g;return y(),h(i,{style:{"min-height":"100%"}},{default:j((()=>[v(p,{model:e.adminForms,rules:e.rules,ref:"adminRefs","label-width":"100px"},{default:j((()=>[v(t,{label:"原密码",prop:"old_password"},{default:j((()=>[v(l,{modelValue:e.adminForms.old_password,"onUpdate:modelValue":r[0]||(r[0]=r=>e.adminForms.old_password=r),placeholder:"请输入原密码"},null,8,["modelValue"])])),_:1}),v(t,{label:"新密码",prop:"new_password"},{default:j((()=>[v(l,{modelValue:e.adminForms.new_password,"onUpdate:modelValue":r[1]||(r[1]=r=>e.adminForms.new_password=r),placeholder:"请输入新密码"},null,8,["modelValue"])])),_:1}),v(t,null,{default:j((()=>[v(n,{type:"primary",onClick:r[2]||(r[2]=e=>s.submitAdd())},{default:j((()=>[P])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1})};export{V as default};
